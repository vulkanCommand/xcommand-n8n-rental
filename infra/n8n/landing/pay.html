<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>xCommand Cloud — Pricing</title>
<meta name="description" content="Choose your xCommand workspace plan. No subscriptions, no surprises.">
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: hsl(220, 20%, 4%);
    --bg-card: hsl(220, 18%, 7%);
    --fg: hsl(0, 0%, 96%);
    --muted: hsl(220, 10%, 55%);
    --border: hsl(220, 14%, 14%);
    --primary: hsl(180, 70%, 55%);
    --primary-fg: hsl(220, 20%, 4%);
    --secondary: hsl(220, 15%, 12%);
    --surface: hsl(220, 16%, 9%);
    --glow-secondary: hsl(200, 80%, 60%);
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    background: var(--bg);
    color: var(--fg);
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
  }

  .grid-bg {
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(var(--border) 1px, transparent 1px),
      linear-gradient(90deg, var(--border) 1px, transparent 1px);
    background-size: 60px 60px;
    opacity: 0.3;
    pointer-events: none;
    z-index: 0;
  }

  /* Header */
  header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 50;
    padding: 0 2rem;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid var(--border);
    background: hsla(220, 20%, 4%, 0.9);
    backdrop-filter: blur(16px);
  }

  .logo {
    font-family: 'Space Grotesk', system-ui, sans-serif;
    font-size: 1.125rem;
    font-weight: 700;
    letter-spacing: -0.02em;
    color: var(--fg);
  }

  .logo span { color: var(--primary); }

  .nav-links {
    display: flex;
    align-items: center;
    gap: 2rem;
  }

  .nav-links a {
    font-family: 'Space Grotesk', system-ui, sans-serif;
    font-size: 0.6875rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--muted);
    text-decoration: none;
    transition: color 0.2s;
  }

  .nav-links a:hover { color: var(--fg); }

  .nav-links a.active { color: var(--primary); }

  /* Container */
  .container {
    position: relative;
    z-index: 1;
    max-width: 1120px;
    margin: 0 auto;
    padding: 120px 2rem 100px;
  }

  .section-label {
    font-family: 'Space Grotesk', system-ui, sans-serif;
    font-size: 0.6875rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--muted);
    margin-bottom: 1rem;
  }

  h1 {
    font-family: 'Space Grotesk', system-ui, sans-serif;
    font-size: clamp(2rem, 5vw, 3rem);
    font-weight: 700;
    letter-spacing: -0.02em;
    line-height: 1.1;
    margin-bottom: 1rem;
  }

  .subtitle {
    font-size: 1.125rem;
    color: var(--muted);
    margin-bottom: 3.5rem;
    max-width: 520px;
  }

  /* Pricing Grid */
  .pricing-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1rem;
    max-width: 720px;
  }

  .card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    padding: 2rem;
    display: flex;
    flex-direction: column;
    transition: border-color 0.3s, box-shadow 0.3s;
    position: relative;
  }

  .card:hover {
    border-color: hsla(180, 70%, 55%, 0.3);
  }

  .card.popular {
    border-color: hsla(180, 70%, 55%, 0.4);
    box-shadow: 0 0 40px -12px hsla(180, 70%, 55%, 0.15);
  }

  .card.popular::before {
    content: '';
    position: absolute;
    top: -1px;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(to right, transparent, var(--primary), transparent);
  }

  .card-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
  }

  .card-title {
    font-family: 'Space Grotesk', system-ui, sans-serif;
    font-size: 1.25rem;
    font-weight: 700;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    background: hsla(180, 70%, 55%, 0.1);
    border: 1px solid hsla(180, 70%, 55%, 0.2);
    padding: 0.125rem 0.625rem;
    font-family: 'Space Grotesk', system-ui, sans-serif;
    font-size: 0.625rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--primary);
  }

  .price {
    font-family: 'Space Grotesk', system-ui, sans-serif;
    font-size: 2.5rem;
    font-weight: 700;
  }

  .price-meta {
    font-size: 0.875rem;
    color: var(--muted);
    margin-left: 0.5rem;
  }

  .duration {
    font-size: 0.75rem;
    color: var(--muted);
    margin-top: 0.25rem;
    margin-bottom: 1rem;
  }

  .desc {
    font-size: 0.875rem;
    color: var(--muted);
    margin-bottom: 2rem;
    line-height: 1.5;
  }

  .features {
    list-style: none;
    display: grid;
    gap: 0.75rem;
    margin-bottom: 2rem;
    flex: 1;
  }

  .features li {
    display: flex;
    align-items: flex-start;
    gap: 0.625rem;
    font-size: 0.875rem;
    color: hsl(0, 0%, 88%);
  }

  .check-icon {
    width: 14px;
    height: 14px;
    flex-shrink: 0;
    margin-top: 2px;
    color: var(--primary);
  }

  .select-btn {
    width: 100%;
    padding: 0.75rem;
    font-family: 'Space Grotesk', system-ui, sans-serif;
    font-size: 0.8125rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    cursor: pointer;
    border: 1px solid var(--border);
    background: transparent;
    color: var(--fg);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.25s;
  }

  .select-btn:hover {
    border-color: hsla(180, 70%, 55%, 0.4);
    background: var(--secondary);
  }

  .select-btn.active {
    background: var(--primary);
    border-color: var(--primary);
    color: var(--primary-fg);
    box-shadow: 0 0 20px -5px hsla(180, 70%, 55%, 0.4);
  }

  .card.popular .select-btn {
    background: var(--primary);
    border-color: var(--primary);
    color: var(--primary-fg);
  }

  .card.popular .select-btn:hover {
    box-shadow: 0 0 20px -5px hsla(180, 70%, 55%, 0.4);
  }

  /* Arrow icon */
  .arrow-icon {
    width: 14px;
    height: 14px;
    transition: transform 0.2s;
  }

  .select-btn:hover .arrow-icon {
    transform: translateX(4px);
  }

  /* Email Box */
  .email-box {
    margin: 2.5rem auto 0;
    max-width: 480px;
    background: var(--bg-card);
    border: 1px solid var(--border);
    padding: 1.5rem;
    display: none;
  }

  .email-box.visible { display: grid; gap: 0.75rem; }

  .email-box label {
    font-family: 'Space Grotesk', system-ui, sans-serif;
    font-size: 0.6875rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--muted);
  }

  .email-box input {
    padding: 0.75rem;
    width: 100%;
    background: var(--surface);
    border: 1px solid var(--border);
    color: var(--fg);
    font-family: 'Inter', system-ui, sans-serif;
    font-size: 0.9375rem;
    outline: none;
    transition: border-color 0.2s;
  }

  .email-box input:focus {
    border-color: var(--primary);
  }

  .continue-btn {
    margin-top: 0.25rem;
    padding: 0.75rem;
    border: 1px solid var(--primary);
    background: var(--primary);
    color: var(--primary-fg);
    font-family: 'Space Grotesk', system-ui, sans-serif;
    font-size: 0.8125rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    cursor: pointer;
    transition: box-shadow 0.2s, transform 0.1s;
  }

  .continue-btn:hover {
    box-shadow: 0 0 20px -5px hsla(180, 70%, 55%, 0.4);
    transform: translateY(-1px);
  }

  .continue-btn:disabled {
    opacity: 0.6;
    cursor: wait;
    transform: none;
    box-shadow: none;
  }

  .hint {
    font-size: 0.75rem;
    color: var(--muted);
    line-height: 1.5;
  }

  /* Footer */
  footer {
    position: relative;
    z-index: 1;
    border-top: 1px solid var(--border);
    padding: 2rem;
    text-align: center;
  }

  footer p {
    font-family: 'Space Grotesk', system-ui, sans-serif;
    font-size: 0.6875rem;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--muted);
  }

  @media (max-width: 768px) {
    header { padding: 0 1rem; }
    .container { padding: 100px 1rem 60px; }
    .nav-links { gap: 1rem; }
    .nav-links a { font-size: 0.6rem; letter-spacing: 0.1em; }
    .pricing-grid { grid-template-columns: 1fr; }
    .subtitle { margin-bottom: 2rem; }
  }

  @media (max-width: 400px) {
    header { padding: 0 0.75rem; height: 56px; }
    .logo { font-size: 1rem; }
    .nav-links { gap: 0.5rem; }
    .nav-links a { font-size: 0.5rem; letter-spacing: 0.06em; }
    .container { padding: 80px 0.75rem 40px; }
    .card { padding: 1.25rem; }
    .price { font-size: 2rem; }
    .email-box { padding: 1rem; }
    h1 { font-size: 1.5rem; }
  }
</style>
</head>
<body>

<div class="grid-bg"></div>

<header>
  <a href="https://xcommand.cloud" class="logo" style="text-decoration:none;">xCommand<span>.</span></a>
  <nav class="nav-links">
    <a href="https://xcommand.cloud/">Home</a>
    <a href="https://xcommand.cloud/pay.html" class="active">Plans</a>
    <a href="https://xcommand.cloud/ready.html">Workspace</a>
    <a href="https://app.xcommand.cloud/support">Support</a>
  </nav>
</header>

<div class="container">
  <p class="section-label">Pricing</p>
  <h1>Choose Your Workspace Plan</h1>
  <p class="subtitle">No setup. No maintenance. Your isolated n8n workspace launches instantly.</p>

  <div class="pricing-grid">
    <!-- Explorer -->
    <div class="card" data-plan="1d">
      <div class="card-header">
        <span class="card-title">Explorer</span>
      </div>
      <div style="margin-bottom: 0.25rem;">
        <span class="price">$1</span>
        <span class="price-meta">per workspace</span>
      </div>
      <p class="duration">24 hours access</p>
      <p class="desc">Perfect for quick experiments, testing a single integration, or evaluating n8n.</p>
      <ul class="features">
        <li>
          <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
          Dedicated n8n workspace
        </li>
        <li>
          <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
          Full n8n UI
        </li>
        <li>
          <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
          Zero setup required
        </li>
        <li>
          <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
          Auto-expiry after 24 hours
        </li>
        <li>
          <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
          Secure isolated container
        </li>
      </ul>
      <button class="select-btn">
        Select plan
        <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
      </button>
    </div>

    <!-- Builder -->
    <div class="card popular" data-plan="5d">
      <div class="card-header">
        <span class="card-title">Builder</span>
        <span class="badge">★ Popular</span>
      </div>
      <div style="margin-bottom: 0.25rem;">
        <span class="price">$3</span>
        <span class="price-meta">per workspace</span>
      </div>
      <p class="duration">5 days access</p>
      <p class="desc">For serious prototyping, multi-step workflows, and team evaluation sprints.</p>
      <ul class="features">
        <li>
          <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
          Dedicated n8n workspace
        </li>
        <li>
          <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
          Full n8n UI
        </li>
        <li>
          <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
          Zero setup required
        </li>
        <li>
          <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
          Auto-expiry after 5 days
        </li>
        <li>
          <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
          Perfect for multi-day builds
        </li>
      </ul>
      <button class="select-btn active">
        Select plan
        <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
      </button>
    </div>
  </div>

  <!-- Email box (hidden until plan selected) -->
  <div class="email-box" id="email-box">
    <label for="email-input">Your email for this workspace</label>
    <input id="email-input" type="email" placeholder="you@example.com" required>
    <button class="continue-btn" id="continue-btn">Continue to checkout</button>
    <p class="hint">We'll use this email to provision and look up your workspace. Stripe will also ask for an email for the receipt.</p>
  </div>
</div>

<footer>
  <p>&copy; 2025 xCommand Cloud. All rights reserved.</p>
</footer>

<script>
const API_BASE = "https://api.app.xcommand.cloud";
const CHECKOUT_ENDPOINT = "/stripe/create-checkout-session";

const cards = document.querySelectorAll(".card");
const emailBox = document.getElementById("email-box");
const emailInput = document.getElementById("email-input");
const continueBtn = document.getElementById("continue-btn");
let selectedPlan = null;

cards.forEach(card => {
  const btn = card.querySelector(".select-btn");
  btn.addEventListener("click", () => {
    document.querySelectorAll(".select-btn").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    selectedPlan = card.dataset.plan;
    emailBox.classList.add("visible");
    emailBox.scrollIntoView({ behavior: "smooth", block: "center" });
    setTimeout(() => emailInput.focus(), 400);
  });
});

function setContinueLoading(isLoading) {
  continueBtn.disabled = isLoading;
  continueBtn.textContent = isLoading ? "Creating secure checkout…" : "Continue to checkout";
}

continueBtn.addEventListener("click", async () => {
  if (!selectedPlan) { alert("Please select a plan first."); return; }
  const email = emailInput.value.trim();
  if (!email) { alert("Please enter your email."); emailInput.focus(); return; }

  try {
    localStorage.setItem("x_email", email);
    localStorage.setItem("x_plan", selectedPlan);
  } catch (e) { console.warn("localStorage not available", e); }

  const successUrl = window.location.origin + "/ready.html";
  const cancelUrl = window.location.href;

  setContinueLoading(true);

  try {
    const res = await fetch(API_BASE + CHECKOUT_ENDPOINT, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ email, plan: selectedPlan, success_url: successUrl, cancel_url: cancelUrl })
    });
    if (!res.ok) { const txt = await res.text(); throw new Error(txt || "Checkout API error"); }
    const data = await res.json();
    if (data.checkout_url) { window.location.href = data.checkout_url; }
    else if (data.id) { alert("Backend returned a session id but checkout_url is missing."); setContinueLoading(false); }
    else { throw new Error("Unexpected response from checkout endpoint."); }
  } catch (err) {
    console.error(err);
    alert("Could not start checkout. Please try again.");
    setContinueLoading(false);
  }
});
</script>
</body>
</html>